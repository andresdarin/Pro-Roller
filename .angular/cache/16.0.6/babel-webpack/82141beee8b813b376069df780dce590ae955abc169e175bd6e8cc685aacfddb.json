{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let HeaderComponent = /*#__PURE__*/(() => {\n  class HeaderComponent {\n    constructor() {\n      this.menuAbierto = false;\n      this.previousScrollPosition = window.pageYOffset;\n      this.headerVisible = true;\n      this.isNavigating = false; // Nueva bandera para evitar conflictos\n    }\n\n    toggleMenu() {\n      this.menuAbierto = !this.menuAbierto;\n      // Prevenir scroll del body cuando el menú está abierto\n      if (this.menuAbierto) {\n        document.body.style.overflow = 'hidden';\n      } else {\n        document.body.style.overflow = '';\n      }\n    }\n    hideBurguer() {\n      this.menuAbierto = false;\n      document.body.style.overflow = ''; // Restaurar scroll\n    }\n\n    navigateToSection(event, sectionId) {\n      event.preventDefault();\n      event.stopPropagation(); // Evita propagación de eventos\n      // Marcar que estamos navegando\n      this.isNavigating = true;\n      // Forzar header visible durante navegación\n      this.headerVisible = true;\n      // Cerrar menú inmediatamente\n      this.hideBurguer();\n      // Navegar con timing optimizado\n      requestAnimationFrame(() => {\n        setTimeout(() => {\n          const section = document.getElementById(sectionId);\n          if (section) {\n            // Calcular offset del header\n            const headerHeight = 70; // Ajusta según tu header\n            const elementPosition = section.getBoundingClientRect().top;\n            const offsetPosition = elementPosition + window.pageYOffset - headerHeight;\n            window.scrollTo({\n              top: offsetPosition,\n              behavior: 'smooth'\n            });\n            // Liberar la bandera después de la navegación\n            setTimeout(() => {\n              this.isNavigating = false;\n            }, 1000); // Dar tiempo para que termine el scroll suave\n          }\n        }, 100); // Reducido de 200ms a 100ms\n      });\n    }\n\n    onWindowScroll() {\n      // No ocultar header si estamos navegando o el menú está abierto\n      if (this.isNavigating || this.menuAbierto) {\n        return;\n      }\n      const currentScroll = window.pageYOffset;\n      const scrollThreshold = 100;\n      const scrollDifference = Math.abs(currentScroll - this.previousScrollPosition);\n      // Solo actuar si hay un scroll significativo (evita micro-scrolls)\n      if (scrollDifference < 5) {\n        return;\n      }\n      // Lógica mejorada para mostrar/ocultar header\n      if (currentScroll > this.previousScrollPosition && currentScroll > scrollThreshold) {\n        // Scrolling hacia abajo\n        this.headerVisible = false;\n      } else if (currentScroll < this.previousScrollPosition || currentScroll <= scrollThreshold) {\n        // Scrolling hacia arriba o cerca del top\n        this.headerVisible = true;\n      }\n      this.previousScrollPosition = currentScroll;\n    }\n    onWindowResize() {\n      // Cerrar menú en resize para evitar problemas responsive\n      if (this.menuAbierto) {\n        this.hideBurguer();\n      }\n    }\n    onKeyDown(event) {\n      // Cerrar menú con ESC\n      if (event.key === 'Escape' && this.menuAbierto) {\n        this.hideBurguer();\n      }\n    }\n    onDocumentClick(event) {\n      // Cerrar menú al hacer click fuera\n      const target = event.target;\n      const menuContainer = document.querySelector('.nav-container');\n      const hamburgerBtn = document.querySelector('.hamburger-btn');\n      if (this.menuAbierto && !menuContainer?.contains(target) && !hamburgerBtn?.contains(target)) {\n        this.hideBurguer();\n      }\n    }\n    static {\n      this.ɵfac = function HeaderComponent_Factory(t) {\n        return new (t || HeaderComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: HeaderComponent,\n        selectors: [[\"app-header\"]],\n        hostBindings: function HeaderComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"scroll\", function HeaderComponent_scroll_HostBindingHandler() {\n              return ctx.onWindowScroll();\n            }, false, i0.ɵɵresolveWindow)(\"resize\", function HeaderComponent_resize_HostBindingHandler() {\n              return ctx.onWindowResize();\n            }, false, i0.ɵɵresolveWindow)(\"keydown\", function HeaderComponent_keydown_HostBindingHandler($event) {\n              return ctx.onKeyDown($event);\n            }, false, i0.ɵɵresolveDocument)(\"click\", function HeaderComponent_click_HostBindingHandler($event) {\n              return ctx.onDocumentClick($event);\n            }, false, i0.ɵɵresolveDocument);\n          }\n        },\n        decls: 17,\n        vars: 11,\n        consts: [[\"id\", \"main-header\", 1, \"main-header\"], [1, \"menu-overlay\", 3, \"click\"], [\"aria-label\", \"Abrir men\\u00FA\", \"type\", \"button\", 1, \"hamburger-btn\", 3, \"click\"], [1, \"nav-container\"], [\"role\", \"menu\", 1, \"nav-links\"], [\"role\", \"none\", 1, \"nav-link\"], [\"href\", \"#nuestrosTrabajos\", \"role\", \"menuitem\", \"tabindex\", \"0\", 1, \"scroll-link\", 3, \"click\"], [\"href\", \"#servicios\", \"role\", \"menuitem\", \"tabindex\", \"0\", 1, \"scroll-link\", 3, \"click\"], [\"href\", \"#contacto2\", \"role\", \"menuitem\", \"tabindex\", \"0\", 1, \"scroll-link\", 3, \"click\"]],\n        template: function HeaderComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1);\n            i0.ɵɵlistener(\"click\", function HeaderComponent_Template_div_click_1_listener() {\n              return ctx.hideBurguer();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(2, \"button\", 2);\n            i0.ɵɵlistener(\"click\", function HeaderComponent_Template_button_click_2_listener($event) {\n              return ctx.toggleMenu($event);\n            });\n            i0.ɵɵelement(3, \"span\")(4, \"span\")(5, \"span\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"nav\", 3)(7, \"ul\", 4)(8, \"li\", 5)(9, \"a\", 6);\n            i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_9_listener($event) {\n              return ctx.navigateToSection($event, \"nuestrosTrabajos\");\n            });\n            i0.ɵɵtext(10, \" Nosotros \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"li\", 5)(12, \"a\", 7);\n            i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_12_listener($event) {\n              return ctx.navigateToSection($event, \"servicios\");\n            });\n            i0.ɵɵtext(13, \" Servicios \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(14, \"li\", 5)(15, \"a\", 8);\n            i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_15_listener($event) {\n              return ctx.navigateToSection($event, \"contacto2\");\n            });\n            i0.ɵɵtext(16, \" Contacto \");\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵclassProp(\"header-hidden\", !ctx.headerVisible);\n            i0.ɵɵadvance(1);\n            i0.ɵɵstyleProp(\"display\", ctx.menuAbierto ? \"block\" : \"none\");\n            i0.ɵɵclassProp(\"active\", ctx.menuAbierto);\n            i0.ɵɵadvance(1);\n            i0.ɵɵclassProp(\"active\", ctx.menuAbierto);\n            i0.ɵɵattribute(\"aria-expanded\", ctx.menuAbierto);\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"menu-abierto\", ctx.menuAbierto);\n          }\n        },\n        styles: [\"*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}.main-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;background:transparent;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);height:50px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;width:100%;transform:translateY(0)}.main-header.header-hidden[_ngcontent-%COMP%]{transform:translateY(-100%)}.nav-container[_ngcontent-%COMP%]{position:absolute;background:transparent;width:100%;max-width:1200px;display:flex;justify-content:center;align-items:center;height:100%;margin:0 auto;padding:0 20px}.nav-links[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:clamp(16px,4vw,40px);list-style:none;height:100%;margin:0;padding:0}.nav-link[_ngcontent-%COMP%]{position:relative;height:48px;display:flex;align-items:center;justify-content:center;padding:0 20px;border-radius:12px;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;overflow:hidden}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#493c30;text-decoration:none;font-weight:600;font-size:clamp(.9rem,2vw,1rem);letter-spacing:.025em;transition:all .3s ease;z-index:2;white-space:nowrap;font-family:Segoe UI,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,Arial,sans-serif}.nav-link[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:12px;opacity:0;transform:scale(.8);transition:all .3s cubic-bezier(.4,0,.2,1);z-index:1}.nav-link[_ngcontent-%COMP%]:hover:before, .nav-link[_ngcontent-%COMP%]:focus-within:before{opacity:1;transform:scale(1)}.nav-link[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]:focus-within   a[_ngcontent-%COMP%]{color:#fff;transform:translateY(-1px)}.nav-link[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;bottom:4px;left:50%;transform:translate(-50%);width:0;height:3px;background:linear-gradient(90deg,#b1b684,#493c30);border-radius:2px;transition:width .4s cubic-bezier(.4,0,.2,1);z-index:3}.nav-link[_ngcontent-%COMP%]:hover:after, .nav-link[_ngcontent-%COMP%]:focus-within:after{width:70%}.hamburger-btn[_ngcontent-%COMP%]{display:none;position:absolute;top:50%;right:20px;transform:translateY(-50%);width:44px;height:44px;background:rgba(255,255,255,.8);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.3);border-radius:12px;cursor:pointer;z-index:1100;box-shadow:0 8px 32px #0000000f;transition:all .3s ease;flex-direction:column;justify-content:center;align-items:center;gap:4px}.hamburger-btn[_ngcontent-%COMP%]:hover{transform:translateY(-50%) scale(1.05);background:rgba(255,255,255,.9);box-shadow:0 12px 40px #0000001a}.hamburger-btn[_ngcontent-%COMP%]:focus{outline:2px solid #b1b684;outline-offset:1px}.hamburger-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:20px;height:2.5px;background:#2d3748;border-radius:2px;transition:all .3s cubic-bezier(.4,0,.2,1)}.hamburger-btn.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:rotate(45deg) translate(5px,5px)}.hamburger-btn.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:0;transform:translate(20px)}.hamburger-btn.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-45deg) translate(5px,-5px)}.menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.3);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);z-index:999;opacity:0;visibility:hidden;transition:all .4s ease}.menu-overlay.active[_ngcontent-%COMP%]{opacity:1;visibility:visible}@media (min-width: 1200px){.nav-links[_ngcontent-%COMP%]{gap:50px}.nav-link[_ngcontent-%COMP%]{padding:0 25px}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 1199px) and (min-width: 1024px){.main-header[_ngcontent-%COMP%]{height:55px;padding:0 30px}.nav-links[_ngcontent-%COMP%]{gap:clamp(20px,3vw,35px)}.nav-link[_ngcontent-%COMP%]{padding:0 18px;height:44px}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:clamp(.95rem,1.8vw,1.05rem)}}@media (max-width: 1023px) and (min-width: 768px){.main-header[_ngcontent-%COMP%]{height:60px;padding:0 25px}.nav-container[_ngcontent-%COMP%]{padding:0 15px}.nav-links[_ngcontent-%COMP%]{gap:clamp(12px,2.5vw,25px);flex-wrap:nowrap}.nav-link[_ngcontent-%COMP%]{padding:0 clamp(12px,2vw,18px);height:42px;border-radius:10px}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:clamp(.85rem,1.6vw,.95rem);font-weight:600}.hamburger-btn[_ngcontent-%COMP%]{display:none}}@media (max-width: 767px) and (min-width: 481px){.main-header[_ngcontent-%COMP%]{height:65px;padding:0 20px}.hamburger-btn[_ngcontent-%COMP%]{display:flex;width:46px;height:46px;right:20px}.hamburger-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:22px;height:3px}.nav-container[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;width:380px;max-width:70vw;backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px);background:linear-gradient(135deg,rgba(30,30,30,.95),rgba(20,20,20,.9));border-left:1px solid rgba(255,255,255,.1);transform:translate(100%);transition:transform .4s cubic-bezier(.4,0,.2,1);z-index:1250;display:flex;justify-content:center;align-items:center;box-shadow:-15px 0 50px #0000004d}.nav-container.menu-abierto[_ngcontent-%COMP%]{transform:translate(0)}.nav-links[_ngcontent-%COMP%]{flex-direction:column;gap:20px;width:100%;padding:40px 30px}.nav-link[_ngcontent-%COMP%]{background:rgba(255,255,255,.08);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.15);width:100%;height:60px;border-radius:15px;box-shadow:0 8px 32px #0003;transition:all .3s ease;position:relative;overflow:hidden}.nav-link[_ngcontent-%COMP%]:before, .nav-link[_ngcontent-%COMP%]:after{display:none}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.1rem;color:#f7fafc;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.3)}.nav-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background:rgba(255,255,255,.15);box-shadow:0 12px 40px #0000004d;border:1px solid rgba(255,255,255,.25)}.nav-link[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff;transform:none}}@media (max-width: 480px){.main-header[_ngcontent-%COMP%]{height:60px;padding:0 16px}.hamburger-btn[_ngcontent-%COMP%]{display:flex;width:42px;height:42px;right:16px}.nav-container[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;width:100vw;backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px);background:linear-gradient(135deg,rgba(25,25,25,.95),rgba(15,15,15,.9));transform:translate(100%);transition:transform .4s ease;z-index:1250;display:flex;justify-content:center;align-items:center}.nav-container.menu-abierto[_ngcontent-%COMP%]{transform:translate(0)}.nav-links[_ngcontent-%COMP%]{flex-direction:column;gap:18px;width:100%;padding:20px}.nav-link[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.2);width:100%;height:56px;border-radius:12px;box-shadow:0 8px 32px #0000004d;transition:all .3s ease;position:relative;overflow:hidden}.nav-link[_ngcontent-%COMP%]:before, .nav-link[_ngcontent-%COMP%]:after{display:none}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;color:#f7fafc;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.4)}.nav-link[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);transform:translateY(-1px);box-shadow:0 12px 40px #0006;border:1px solid rgba(255,255,255,.3)}.nav-link[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff;transform:none}}@media (max-width: 1024px) and (orientation: landscape){.main-header[_ngcontent-%COMP%]{height:50px}.nav-links[_ngcontent-%COMP%]{gap:clamp(8px,2vw,20px)}.nav-link[_ngcontent-%COMP%]{padding:0 clamp(8px,1.5vw,15px);height:38px}.nav-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:clamp(.8rem,1.4vw,.9rem)}}@media (hover: none) and (pointer: coarse){.nav-link[_ngcontent-%COMP%]{min-height:44px}.hamburger-btn[_ngcontent-%COMP%]{min-width:44px;min-height:44px}}@media (min-width: 768px){.nav-link[_ngcontent-%COMP%]:before{display:block}.nav-link[_ngcontent-%COMP%]:after{display:block}}@media (max-width: 767px){.nav-link[_ngcontent-%COMP%]:before, .nav-link[_ngcontent-%COMP%]:after{display:none!important}.menu-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.4)}}@keyframes _ngcontent-%COMP%_slideInUp{to{transform:translateY(0);opacity:1}}.nav-link[_ngcontent-%COMP%]:focus-within{outline-offset:2px}body[_nghost-%COMP%], body   [_nghost-%COMP%]{padding-top:70px}@media (max-width: 1023px){.nav-container[_ngcontent-%COMP%]:before{content:\\\"Tablet Mode\\\";position:absolute;top:10px;left:10px;font-size:10px;color:#666;display:none}}\"]\n      });\n    }\n  }\n  return HeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}