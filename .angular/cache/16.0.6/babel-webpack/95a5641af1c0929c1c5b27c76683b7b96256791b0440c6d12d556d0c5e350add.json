{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = [\"sliderContainer\"];\nconst _c1 = [\"sliderGrid\"];\nfunction TrabajosComponent_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"img\", 6);\n    i0.ɵɵelementStart(2, \"div\", 7)(3, \"h4\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const trabajo_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r2.getItemClass(i_r4, trabajo_r3.size));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", trabajo_r3.img, i0.ɵɵsanitizeUrl)(\"alt\", trabajo_r3.titulo);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(trabajo_r3.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(trabajo_r3.descripcion);\n  }\n}\nexport let TrabajosComponent = /*#__PURE__*/(() => {\n  class TrabajosComponent {\n    constructor() {\n      this.scrollAmount = 0;\n      this.speed = 0.2; // Velocidad más fluida\n      this.isHovered = false;\n      this.isPaused = false;\n      this.isInitialized = false;\n      this.trabajos = [{\n        img: \"assets/img/IMG-20250726-WA0053.jpg\",\n        titulo: \"Roller Screen en Ventanal\",\n        descripcion: \"Cortina roller screen en un amplio ventanal, permitiendo la visibilidad exterior y filtrando la luz.\",\n        size: \"large\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0056.jpg\",\n        titulo: \"Roller Dual en Espacio Moderno\",\n        descripcion: \"Cortina roller dual en un ambiente con diseño moderno, ofreciendo versatilidad en la entrada de luz.\",\n        size: \"large\"\n      }, {\n        img: \"assets/img/roller-translucida.jpeg\",\n        titulo: \"Tela Screen\",\n        descripcion: \"Filtra el sol directo, protegiendo tus espacios del deterioro.\",\n        size: \"large\"\n      }, {\n        img: \"assets/img/IMG-20250721-WA0006.jpg\",\n        titulo: \"Pinza italiana 2\",\n        descripcion: \"Cortina clásica con un toque más moderno.\",\n        size: \"wide\"\n      }, {\n        img: \"assets/img/cortina-tipo-antigua-translucida.jpeg\",\n        titulo: \"Pinza italiana 1\",\n        descripcion: \"Cortina clásica con un toque más moderno.\",\n        size: \"wide\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0061.jpg\",\n        titulo: \"Ambiente Interior con Cortinas Suaves\",\n        descripcion: \"Cortinas de tela suave que crean un ambiente relajante y acogedor en el interior.\",\n        size: \"giant\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0059.jpg\",\n        titulo: \"Cortina Texturizada\",\n        descripcion: \"Cortina con textura sutil, combinando funcionalidad y estilo.\",\n        size: \"normal\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0057.jpg\",\n        titulo: \"Cortina Corta para Ventana\",\n        descripcion: \"Cortina corta ideal para ventanas pequeñas, brindando privacidad sin obstaculizar el espacio.\",\n        size: \"normal\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0052.jpg\",\n        titulo: \"Roller Blackout Gris\",\n        descripcion: \"Cortina roller blackout de color gris, ideal para oscurecer el ambiente.\",\n        size: \"giant\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0050.jpg\",\n        titulo: \"Bambú\",\n        descripcion: \"Estilo rústico, ideal para ambientes cálidos.\",\n        size: \"large\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0060.jpg\",\n        titulo: \"Cortina Clásica para Oficina\",\n        descripcion: \"Cortina clásica que brinda un toque de elegancia y privacidad a un espacio de oficina.\",\n        size: \"normal\"\n      }, {\n        img: \"assets/img/roller-blackout.jpeg\",\n        titulo: \"Black Out\",\n        descripcion: \"Aislante térmico y sonoro. Totalmente opaca.\",\n        size: \"normal\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0055.jpg\",\n        titulo: \"Cortinas Opacas en Habitación\",\n        descripcion: \"Cortinas opacas que garantizan privacidad y control total de la luz en el dormitorio.\",\n        size: \"wide\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0062.jpg\",\n        titulo: \"Dormitorio con Cortina Roller\",\n        descripcion: \"Dormitorio con cortina roller que permite regular la entrada de luz y asegurar el descanso.\",\n        size: \"large\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0058.jpg\",\n        titulo: \"Cortinas en Sala de Estar\",\n        descripcion: \"Cortinas que complementan la decoración de una sala de estar, aportando calidez.\",\n        size: \"wide\"\n      }, {\n        img: \"assets/img/roller-rayada.jpeg\",\n        titulo: \"Bambú rayada\",\n        descripcion: \"Ideal para ambientes con estilo natural.\",\n        size: \"large\"\n      }, {\n        img: \"assets/img/IMG-20250726-WA0051.jpg\",\n        titulo: \"Cortina Blanca Tradicional\",\n        descripcion: \"Cortina de tela blanca clásica, aportando luminosidad a la habitación.\",\n        size: \"large\"\n      }, {\n        img: \"assets/img/cortina-tipo-antigua.jpeg\",\n        titulo: \"Tradicional\",\n        descripcion: \"Con pinza americana. Cálidas y acogedoras.\",\n        size: \"giant\"\n      }];\n    }\n    get trabajosInfinitos() {\n      // 3 repeticiones para scroll infinito más suave\n      return [...this.trabajos, ...this.trabajos, ...this.trabajos];\n    }\n    ngAfterViewInit() {\n      // Inicializar con un delay mayor para asegurar renderizado completo\n      setTimeout(() => {\n        this.setupEventListeners();\n        this.startScrollAnimation();\n      }, 300);\n      // Backup: reinicializar si no se ha iniciado después de 1 segundo\n      setTimeout(() => {\n        if (!this.isInitialized) {\n          this.startScrollAnimation();\n        }\n      }, 1000);\n    }\n    ngOnDestroy() {\n      this.cleanup();\n    }\n    cleanup() {\n      if (this.animationId) {\n        cancelAnimationFrame(this.animationId);\n        this.animationId = undefined;\n      }\n    }\n    setupEventListeners() {\n      const container = this.sliderContainer.nativeElement;\n      // Pausar/reanudar en hover\n      container.addEventListener('mouseenter', () => {\n        this.isHovered = true;\n      });\n      container.addEventListener('mouseleave', () => {\n        this.isHovered = false;\n      });\n      // Manejar visibilidad de la pestaña\n      document.addEventListener('visibilitychange', () => {\n        if (document.hidden) {\n          this.isPaused = true;\n        } else {\n          this.isPaused = false;\n        }\n      });\n    }\n    startScrollAnimation() {\n      if (this.isInitialized) return;\n      const sliderGrid = this.sliderGrid.nativeElement;\n      this.isInitialized = true;\n      const animate = () => {\n        // Solo pausar si está en hover o la pestaña no está visible\n        if (!this.isHovered && !this.isPaused && !document.hidden) {\n          this.scrollAmount += this.speed;\n          // Calcular el ancho de un set completo dinámicamente\n          const singleSetWidth = this.calculateSingleSetWidth();\n          // Reset cuando completamos un ciclo (cuando llegamos al segundo set)\n          if (this.scrollAmount >= singleSetWidth) {\n            this.scrollAmount = 0;\n          }\n          sliderGrid.style.transform = `translateX(-${this.scrollAmount}px)`;\n        }\n        this.animationId = requestAnimationFrame(animate);\n      };\n      // Pequeño delay para asegurar que el DOM esté listo\n      setTimeout(() => {\n        animate();\n      }, 200);\n    }\n    calculateSingleSetWidth() {\n      const sliderGrid = this.sliderGrid.nativeElement;\n      const items = sliderGrid.querySelectorAll('li');\n      const itemsPerSet = this.trabajos.length;\n      if (items.length === 0) return 2000; // Fallback mayor\n      // Esperar a que los elementos estén renderizados\n      const firstSetItems = Array.from(items).slice(0, itemsPerSet);\n      if (firstSetItems.length === 0) return 2000;\n      // Calcular basado en posiciones reales\n      let maxRight = 0;\n      firstSetItems.forEach(item => {\n        const rect = item.getBoundingClientRect();\n        const containerRect = sliderGrid.getBoundingClientRect();\n        const relativeRight = rect.right - containerRect.left + 15; // gap\n        maxRight = Math.max(maxRight, relativeRight);\n      });\n      // Si no tenemos medidas válidas, usar cálculo estimado\n      if (maxRight === 0) {\n        const estimatedWidth = itemsPerSet * (280 + 15); // ancho base + gap\n        return estimatedWidth;\n      }\n      return maxRight;\n    }\n    getItemClass(index, size) {\n      const baseClass = 'item';\n      switch (size) {\n        case 'large':\n          return `${baseClass} item-large`;\n        case 'giant':\n          return `${baseClass} item-giant`;\n        case 'wide':\n          return `${baseClass} item-wide`;\n        default:\n          return `${baseClass} item-normal`;\n      }\n    }\n    // Métodos públicos para control manual\n    pauseScroll() {\n      this.isPaused = true;\n    }\n    resumeScroll() {\n      this.isPaused = false;\n    }\n    setSpeed(newSpeed) {\n      this.speed = Math.max(0.5, Math.min(3, newSpeed));\n    }\n    // Método para reinicializar el slider si hay problemas\n    reinitializeSlider() {\n      this.cleanup();\n      this.isInitialized = false;\n      this.scrollAmount = 0;\n      setTimeout(() => {\n        this.startScrollAnimation();\n      }, 100);\n    }\n    static {\n      this.ɵfac = function TrabajosComponent_Factory(t) {\n        return new (t || TrabajosComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TrabajosComponent,\n        selectors: [[\"app-trabajos\"]],\n        viewQuery: function TrabajosComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n            i0.ɵɵviewQuery(_c1, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sliderContainer = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sliderGrid = _t.first);\n          }\n        },\n        decls: 6,\n        vars: 1,\n        consts: [[\"id\", \"nuestrosTrabajos\", 1, \"nuestrosTrabajos\"], [1, \"slider-container\", 3, \"mouseenter\", \"mouseleave\"], [\"sliderContainer\", \"\"], [1, \"slider-grid\"], [\"sliderGrid\", \"\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [3, \"src\", \"alt\"], [1, \"info\"]],\n        template: function TrabajosComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1, 2);\n            i0.ɵɵlistener(\"mouseenter\", function TrabajosComponent_Template_div_mouseenter_1_listener() {\n              return ctx.pauseScroll();\n            })(\"mouseleave\", function TrabajosComponent_Template_div_mouseleave_1_listener() {\n              return ctx.resumeScroll();\n            });\n            i0.ɵɵelementStart(3, \"ul\", 3, 4);\n            i0.ɵɵtemplate(5, TrabajosComponent_li_5_Template, 7, 6, \"li\", 5);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", ctx.trabajosInfinitos);\n          }\n        },\n        dependencies: [i1.NgForOf],\n        styles: [\".nuestrosTrabajos[_ngcontent-%COMP%]{padding:20px 0;max-width:1200px;margin:0 auto}.nuestrosTrabajos[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:4rem;font-family:Moirai One,system-ui;font-weight:700;margin-bottom:20px}.slider-container[_ngcontent-%COMP%]{position:relative;width:99.6vw;margin-left:calc(-50vw + 50%);overflow:hidden;padding-bottom:10px;padding-top:20px;margin-top:-1rem;cursor:grab}.slider-grid[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-auto-columns:280px;grid-template-rows:repeat(8,120px);gap:15px;list-style:none;margin:0;padding:0 20px;transition:none;will-change:transform;white-space:nowrap}.item[_ngcontent-%COMP%]{position:relative;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px #0000001a;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;display:flex;align-items:flex-end;background:#f8f9fa;height:100%;flex-direction:column;justify-content:flex-end;flex-shrink:0}.item-large[_ngcontent-%COMP%]{grid-row:span 4;grid-column:auto / span 1}.item-wide[_ngcontent-%COMP%]{grid-row:span 2;grid-column:auto / span 2}.item-normal[_ngcontent-%COMP%]{grid-row:span 2;grid-column:auto / span 1}.item-giant[_ngcontent-%COMP%]{grid-row:span 4;grid-column:span 2}.item[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 30px #0003;z-index:10}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;border-radius:12px;z-index:1;transition:transform .3s ease,filter .3s ease}.info[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;z-index:3;padding:20px;background:linear-gradient(to top,rgba(0,0,0,.95) 0%,rgba(0,0,0,.8) 50%,rgba(0,0,0,.3) 80%,transparent 100%);color:#fff;opacity:0;visibility:hidden;transform:translateY(20px);transition:all .3s cubic-bezier(.4,0,.2,1);font-family:League Spartan,sans-serif;text-align:center;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-bottom-left-radius:12px;border-bottom-right-radius:12px;min-height:80px;max-width:100%;display:flex;flex-direction:column;justify-content:flex-end;overflow:hidden;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;box-sizing:border-box}.info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.2rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.8);line-height:1.2;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;white-space:normal}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;line-height:1.4;text-shadow:1px 1px 3px rgba(0,0,0,.8);opacity:.95;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;white-space:normal}.item[_ngcontent-%COMP%]:hover   .info[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);filter:brightness(.8) contrast(1.1)}@media (max-width: 768px){.slider-grid[_ngcontent-%COMP%]{grid-auto-columns:200px;grid-template-rows:repeat(10,100px);gap:10px;padding:0 10px}.item-large[_ngcontent-%COMP%]{grid-row:span 4;grid-column:span 1}.item-wide[_ngcontent-%COMP%], .item-normal[_ngcontent-%COMP%]{grid-row:span 2;grid-column:span 1}.item-giant[_ngcontent-%COMP%]{grid-row:span 4;grid-column:span 1}.item[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px}.nuestrosTrabajos[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-family:League Spartan,Tahoma,Geneva,Verdana,sans-serif}}@media (max-width: 480px){.slider-grid[_ngcontent-%COMP%]{grid-auto-columns:200px;grid-template-rows:repeat(8,100px);gap:10px;padding:0 10px}.item-wide[_ngcontent-%COMP%]{grid-column:auto / span 1}.info[_ngcontent-%COMP%]{padding:12px;min-height:60px}.info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:4px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.nuestrosTrabajos[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}}*[_ngcontent-%COMP%]{box-sizing:border-box}.slider-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{will-change:transform}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not([src]){background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}.item[_ngcontent-%COMP%]   img[src][_ngcontent-%COMP%]{animation:none;background:none}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@media (hover: none) and (pointer: coarse){.item[_ngcontent-%COMP%]:active   .info[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.item[_ngcontent-%COMP%]:active   img[_ngcontent-%COMP%]{filter:brightness(.8) contrast(1.1)}}.item[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]:hover{isolation:isolate}\"]\n      });\n    }\n  }\n  return TrabajosComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}